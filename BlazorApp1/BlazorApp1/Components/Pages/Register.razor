@page "/register"

<PageTitle>Register</PageTitle>

<div class="container">
    <h1 class="custom-text">Criar uma conta nova</h1>
    <p></p>
    <hr class="divider"/>
    
    <div class="input-row">
        <input type="text" id="nome" @bind="Nome" placeholder="Nome Próprio"/>
        <input type="text" id="apelido" @bind="Apelido" placeholder="Apelido"/>
    </div>
    
    <p></p>
    <h3 class="custom-text">Data de nascimento</h3>
    <p></p>
    <div class="dob">
        <label for="day">Dia:</label>
        <select id="day" @bind="Dia" class="select-style">
            @for (int i = 1; i <= 31; i++)
            {
                <option value="@i">@i</option>
            }
        </select>

        <label for="month">Mês:</label>
        <select id="month" @bind="Mes" class="select-style">
            @foreach (var month in Months)
            {
                <option value="@month">@month</option>
            }
        </select>

        <label for="year">Ano:</label>
        <select id="year" @bind="Ano" class="select-style">
            @for (int i = 1900; i <= DateTime.Now.Year; i++)
            {
                <option value="@i">@i</option>
            }
        </select>
    </div>
    <p></p>
    <input type="text" id="username" @bind="Username" placeholder="Nome de Utilizador"/>
    
    <input type="email" id="email" @bind="Email" placeholder="Digite o seu e-mail"/>
    <p></p>
    <input type="password" id="password" @bind="Password" placeholder="Palavra-passe"/>
    <p></p>
    
    <button id="login" @onclick="Login" class="btn-login">Criar conta</button>

    <hr class="divider"/>
</div>

@code {
    private string Nome { get; set; } = "";
    private string Apelido { get; set; } = "";
    private string Username { get; set; } = "";
    private string Email { get; set; } = "";
    private string Password { get; set; } = "";
    private string Dia { get; set; } = DateTime.Now.Day.ToString();
    private string Mes { get; set; } = DateTime.Now.Month.ToString();
    private string Ano { get; set; } = DateTime.Now.Year.ToString(); // Inicializa com o ano atual
    private string ErrorMessage { get; set; } = "";

    // Lista de meses abreviados
    private List<string> Months = new List<string>
    {
        "Jan", "Fev", "Mar", "Abr", "Mai", "Jun", 
        "Jul", "Ago", "Set", "Out", "Nov", "Dez"
    };

    private void Login()
    {
        if (string.IsNullOrEmpty(Email) || string.IsNullOrEmpty(Password))
        {
            ErrorMessage = "Por favor, preencha ambos os campos!";
            return;
        }
        Console.WriteLine("Login registado");
    }
}